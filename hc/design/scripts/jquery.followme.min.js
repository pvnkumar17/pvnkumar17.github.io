/*
 * Follow Me v1.0
 * Branched from jQuery Scroll Follow - http://kitchen.net-perspective.com/open-source/scroll-follow/
 * Enables a DOM object to follow the page as the user scrolls.
 */
(function(a){a.followMe=function(c,d){c=a(c);function b(){var e,h,j,g,i,f;c.queue([]);f=parseInt(a(window).height(),10);j=parseInt(a(document).scrollTop(),10);i=parseInt(c.cont.offset().top,10);g=parseInt(c.cont[0].offsetHeight,10);h=parseInt(c[0].offsetHeight+(parseInt(c.css("marginTop"),10)||0)+(parseInt(c.css("marginBottom"),10)||0),10);if(d.relativeTo==="top"){if(c.initialOffsetTop>=(j+d.offset)){e=c.initialTop}else{e=Math.min((Math.max((-i),(j-c.initialOffsetTop+c.initialTop))+d.offset),(g-h-c.paddingAdjustment))}}else{if(d.relativeTo==="bottom"){if((c.initialOffsetTop+h)>=(j+d.offset+f)){e=c.initialTop}else{e=Math.min((j+f-h-d.offset),(g-h))}}}if((new Date().getTime()-c.lastScroll)>=(d.delay-20)){c.animate({top:e},d.speed,d.easing)}}if(d.container===""){c.cont=c.parent()}else{c.cont=a(d.container)}c.initialOffsetTop=parseInt(c.offset().top,10);c.initialTop=parseInt(c.css("top"),10)||0;if(c.css("position")==="relative"){c.paddingAdjustment=parseInt(c.cont.css("paddingTop"),10)+parseInt(c.cont.css("paddingBottom"),10)}else{c.paddingAdjustment=0}a(window).bind("scroll resize",function(){a.fn.followMe.interval=setTimeout(function(){b()},d.delay);c.lastScroll=new Date().getTime()});c.lastScroll=0;b()};a.fn.followMe=function(b){if(typeof b!=="object"){b={}}b=a.extend({container:"",delay:0,easing:"swing",offset:0,relativeTo:"top",speed:500},b);this.each(function(){new a.followMe(this,b)});return this}})(jQuery);